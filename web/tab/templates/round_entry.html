{% extends "base.html" %}

{% block title %}Data Entry{% endblock %}

{% block banner %} {{title}} {% endblock %}

{% block content %}
<div class="float_container">
    
<div class="obj_info">
    {% if form.errors %}
        <p style="color: red;">
            Please correct the error{{ form.errors|pluralize }} below.
        </p>
    {% endif %}
    <script type="text/javascript" src="/dynamic-media/jsi18n/"></script> 
    <link rel="stylesheet" type="text/css" href="/static/css/widgets.css" /> 
    {{ form.media }}
    <form action="{{ action }}" method="post" class="dataEntryForm" enctype="multipart/form-data">{% csrf_token %}
        {{ form.non_field_errors }}
        
        {# Include the hidden fields #}
        {% for hidden in form.hidden_fields %}
            {{ hidden }}
        {% endfor %}
        
        <table class="table ballot_entry">
        {# Include the common fields to Gov and Opp #}
        
        <tr class="common_fields" colspan=8>
            {{ form.winner.errors }}
            <td><label for="id_winner">{{form.winner.label_tag}}</label></td>
            <td>{{ form.winner }}<td>
        </tr>
        <tr>
            <th colspan=4 class="header">Government: {{gov_team.name}}</th>
            <th colspan=4 class="header">Opposition: {{opp_team.name}}</th>
        </tr>
        <tr class="leaders top">
            <td class="gov pm">
                {{ form.pm_debater.errors }}
                <label for="id_pm_debater">Prime Minister:</label>
            </td>
            
            <td colspan=3 class="right_line"> {{ form.pm_debater }} </td>
            <td class="opp lo">
                {{ form.lo_debater.errors }}
                <label for="id_lo_debater">Leader of Opposition</label>
            </td>
            <td colspan=3> {{ form.lo_debater }} </td>
        </tr>
        <tr class="leaders stats">
            <td class="gov pm speaks">
                {{ form.pm_speaks.errors }}
                <label for="id_pm_speaks">Speaks:</label>
            </td>
            <td> {{ form.pm_speaks }} </td>
            
            <td class="gov pm ranks">
                {{ form.pm_ranks.errors }}
                <label for="id_pm_ranks">Ranks:</label>
            </td>
            <td class="right_line"> {{ form.pm_ranks }} </td>
            <td class="opp lo speaks">
                {{ form.lo_speaks.errors }}
                <label for="id_lo_speaks">Speaks:</label>
            </td>
            <td> {{ form.lo_speaks }} </td>
            
            <td class="opp lo ranks">
                {{ form.lo_ranks.errors }}
                <label for="id_lo_ranks">Ranks:</label>
            </td>
            <td> {{ form.lo_ranks }} </td>
        </tr>
        
       <tr class="members top">
            <td class="gov mg">
                {{ form.mg_debater.errors }}
                <label for="id_mg_debater">Member of Government:</label>
            </td>
            <td colspan=3 class="right_line"> {{ form.mg_debater }} </td>
            
            <td class="opp mo">
                {{ form.mo_debater.errors }}
                <label for="id_mo_debater">Member of Opposition</label>
            </td>
            <td colspan=3> {{ form.mo_debater }} </td>
        </tr>
        <tr class="members stats bottom">
            <td class="gov mg speaks">
                {{ form.mg_speaks.errors }}
                <label for="id_mg_speaks">Speaks:</label>
            </td>
            <td> {{ form.mg_speaks }} </td>
            
            <td class="gov mg ranks">
                {{ form.mg_ranks.errors }}
                <label for="id_mg_ranks">Ranks:</label>
            </td>
            <td class="right_line"> {{ form.mg_ranks }} </td>
            <td class="opp mo speaks">
                {{ form.mo_speaks.errors }}
                <label for="id_mo_speaks">Speaks:</label>
            </td>
            <td> {{ form.mo_speaks }} </td>
            
            <td class="opp mo ranks">
                {{ form.mo_ranks.errors }}
                <label for="id_mo_ranks">Ranks:</label>
            </td>
            <td> {{ form.mo_ranks }} </td>
        </tr>
            
        </table>
        {% if links %}
        <div class="btn-group">
            {% for link,text,confirm in links %}
                <a class="mid btn {%if confirm%}confirmLink{%endif%}" href='{{link}}'>{{text}}</a>
            {% endfor %}
        </div>
        {%endif%}
        <div class="btn-submit">
            <input type="submit" value="Submit Changes">
        <div>
    </form>

</div>
</div>

{% endblock %}
